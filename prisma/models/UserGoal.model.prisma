// model UserGoal {
//   id       String  @id @default(cuid())
//   userXPId String
//   goalId   String?

//   userXP UserXP @relation(fields: [userXPId], references: [id], onDelete: Cascade)
//   goal   Goal?  @relation(fields: [goalId], references: [id])

//   customTitle String

//   targetAmount  Int // simplificado pra hackaton
//   currentAmount Int      @default(0)
//   targetDate    DateTime

//   recommendedMonthlyDeposit Int
//   progressPercent           Int @default(0)

//   isActive    Boolean   @default(true)
//   completedAt DateTime?

//   xpCoinsRewardOnCompletion Int @default(0)

//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
// }

model UserGoal {
  id       String  @id @default(cuid())
  userXPId String
  goalId   String?

  userXP UserXP @relation(fields: [userXPId], references: [id], onDelete: Cascade)
  goal   Goal?  @relation(fields: [goalId], references: [id])

  customTitle String

  targetAmount  Int // simplificado pra hackaton
  currentAmount Int      @default(0)
  targetDate    DateTime

  recommendedMonthlyDeposit Int
  progressPercent           Int @default(0)

  isActive    Boolean   @default(true)
  completedAt DateTime?

  // ðŸ‘‡ NOVO: Ãºltima vez que o usuÃ¡rio colocou dinheiro nessa meta
  lastContributionAt DateTime?

  xpCoinsRewardOnCompletion Int @default(0)

  // ðŸ‘‡ NOVO: ligaÃ§Ãµes com movimentaÃ§Ãµes de fluxo de caixa
  cashFlows CashFlow[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
